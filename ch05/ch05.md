## 第五章 并发

### 5.1并发基础

#### 5.1.1 并发和并行

- 并行意味着程序在任意时刻都是同时运行的
- 并发意味着程序在单位时间内是同时运行的
- 并行就是在任一粒度的时间内都具备同时执行的能力，最简单的并行就是多机，多台机器并行处理
- 并发是在规定的时间内多个请求都得到执行和处理，强调的是给外界的感觉，实际上内部可能是分时操作的。并发重在避免阻塞，使程序不会因为一个阻塞而停止处理。
- 在当前的计算机体系下，并行具有瞬时性，并发具有过程性；并发在于结构，并行在于执行。

#### 5.1.2 goroutine

```
   Go语言的并发执行体称为 goroutine, Go语言通过`go`关键字来启动一个 goroutine.
```

> goroutine 有如下特性
- go的执行是非阻塞的，不会等待。
- go后面的函数的返回值会被忽略。
- 调度器不能保证多个goroutine的执行次序。
- 没有父子goroutine的概念,所有的goroutine是平等的被调度和执行的。
- Go程序在执行时会单独为main的函数创建一个goroutine,遇到其他go关键字时再去创建其他的goroutine。
- Go没有暴露goroutine id给用户，所以不能在一个goroutine里面显示地操作另一个goroutine，不过runtime包提供了一些函数访问和设置gotoutine的相关信息